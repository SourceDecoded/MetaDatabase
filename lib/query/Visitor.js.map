{"version":3,"sources":["../../src/query/Visitor.js"],"names":["Visitor","expression","children","forEach","push","parse","func","nodeName","Error","child","index","call","apply"],"mappings":";;;;;;;;AAAA;;;;;;;;IAEqBA,O;;;;;;;8BACXC,U,EAAY;AAAA;;AACd,gBAAIC,WAAW,EAAf;;AAEA,gBAAI,CAACD,UAAL,EAAiB;AACb,uBAAO,IAAP;AACH;;AAEDA,uBAAWC,QAAX,CAAoBC,OAApB,CAA4B,sBAAc;AACtC,oBAAI,CAACF,WAAWC,QAAhB,EAA0B;AACtBA,6BAASE,IAAT,CAAcH,UAAd;AACH,iBAFD,MAEO;AACHC,6BAASE,IAAT,CAAc,MAAKC,KAAL,CAAWJ,UAAX,CAAd;AACH;AACJ,aAND;;AAQA,gBAAIK,OAAO,KAAKL,WAAWM,QAAhB,CAAX;;AAEA,gBAAI,CAACD,IAAL,EAAW;AACP,sBAAM,IAAIE,KAAJ,CAAU,uCAAuCP,WAAWM,QAAlD,GAA6D,eAAvE,CAAN;AACH;;AAEDL,qBAASC,OAAT,CAAiB,UAACM,KAAD,EAAQC,KAAR,EAAkB;AAC/B,oBAAID,qCAAJ,EAAiC;AAC7B,wBAAIH,OAAO,MAAKG,MAAMF,QAAX,CAAX;AACA,wBAAI,CAACD,IAAL,EAAW;AACP,8BAAM,IAAIE,KAAJ,CAAU,uCAAuCC,MAAMF,QAA7C,GAAwD,eAAlE,CAAN;AACH;AACDL,6BAASQ,KAAT,IAAkBJ,KAAKK,IAAL,QAAgBF,KAAhB,CAAlB;AACH;AACJ,aARD;;AAUA,mBAAOH,KAAKM,KAAL,CAAW,IAAX,EAAiBV,QAAjB,CAAP;AACH;;;;;;kBAjCgBF,O","file":"Visitor.js","sourcesContent":["import Expression from \"./Expression\";\r\n\r\nexport default class Visitor {\r\n    parse(expression) {\r\n        let children = [];\r\n\r\n        if (!expression) {\r\n            return null;\r\n        }\r\n\r\n        expression.children.forEach(expression => {\r\n            if (!expression.children) {\r\n                children.push(expression);\r\n            } else {\r\n                children.push(this.parse(expression));\r\n            }\r\n        });\r\n\r\n        let func = this[expression.nodeName];\r\n\r\n        if (!func) {\r\n            throw new Error(\"The builder doesn't support the \\\"\" + expression.nodeName + '\" expression.');\r\n        }\r\n\r\n        children.forEach((child, index) => {\r\n            if (child instanceof Expression) {\r\n                var func = this[child.nodeName];\r\n                if (!func) {\r\n                    throw new Error(\"The builder doesn't support the \\\"\" + child.nodeName + '\" expression.');\r\n                }\r\n                children[index] = func.call(this, child);\r\n            }\r\n        });\r\n\r\n        return func.apply(this, children);\r\n    }\r\n}\r\n"]}