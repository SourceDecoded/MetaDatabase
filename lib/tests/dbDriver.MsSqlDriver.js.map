{"version":3,"sources":["../../src/tests/dbDriver.MsSqlDriver.js"],"names":["dbConfig","user","password","server","database","dataDb","edmDb","edmSchema","dataSchema","exports","connect","then","pool","catch","e","connected","close","dbDriver","dispose","getEdmDbAsync","db","fail","message","getDataDbAsync","_verifyEdmTableAsync","getEdmListAsync","edmList","length","getDatabaseForEdmAsync","idb"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIA,WAAW;AACXC,UAAM,WADK;AAEXC,cAAU,oBAFC;AAGXC,YAAQ,WAHG;AAIXC,cAAU,MAJC;AAKXC,YAAQ,MALG;AAMXC,WAAO,MANI;AAOXC,eAAW,KAPA;AAQXC,gBAAY;AARD,CAAf;;AAWAC,QAAQ,kCAAR,IAA8C,YAAM;;AAEhD,oBAAMC,OAAN,CAAcV,QAAd,EAAwBW,IAAxB,CAA6B,UAACC,IAAD,EAAU;AACnC,eAAO,IAAP;AACH,KAFD,EAEGC,KAFH,CAES,UAACC,CAAD,EAAO;AACZ,eAAO,KAAP;AACH,KAJD,EAIGH,IAJH,CAIQ,UAACI,SAAD,EAAe;AACnB,wBAAMC,KAAN;AACA,8BAAOD,SAAP;AACH,KAPD;AASH,CAXD;;AAaAN,QAAQ,wBAAR,IAAoC,YAAM;AACtC,QAAIQ,WAAW,0BAAgBjB,QAAhB,CAAf;AACA,0BAAOiB,QAAP;AACAA,aAASC,OAAT;AACH,CAJD;;AAMAT,QAAQ,oCAAR,IAAgD,YAAM;AAClD,QAAIQ,WAAW,0BAAgBjB,QAAhB,CAAf;AACAiB,aAASE,aAAT,GAAyBR,IAAzB,CAA8B,UAACS,EAAD,EAAQ;AAClC,8BAAOA,EAAP;AACAH,iBAASC,OAAT;AACH,KAHD,EAGGL,KAHH,CAGS,UAACC,CAAD,EAAO;AACZ,yBAAOO,IAAP,CAAYP,EAAEQ,OAAd;AACH,KALD;AAMH,CARD;;AAUAb,QAAQ,qCAAR,IAAiD,YAAM;AACnD,QAAIQ,WAAW,0BAAgBjB,QAAhB,CAAf;AACAiB,aAASM,cAAT,GAA0BZ,IAA1B,CAA+B,UAACS,EAAD,EAAQ;AACnC,8BAAOA,EAAP;AACAH,iBAASC,OAAT;AACH,KAHD,EAGGL,KAHH,CAGS,UAACC,CAAD,EAAO;AACZ,yBAAOO,IAAP,CAAYP,EAAEQ,OAAd;AACH,KALD;AAMH,CARD;;AAUAb,QAAQ,2CAAR,IAAuD,YAAM;AACzD,QAAIQ,WAAW,0BAAgBjB,QAAhB,CAAf;AACAiB,aAASO,oBAAT,GAAgCb,IAAhC,CAAqC,UAACC,IAAD,EAAU;AAC3C,8BAAOA,IAAP;AACAK,iBAASC,OAAT;AACH,KAHD,EAGGL,KAHH,CAGS,UAACC,CAAD,EAAO;AACZ,yBAAOO,IAAP,CAAYP,EAAEQ,OAAd;AACH,KALD;AAMH,CARD;;AAUAb,QAAQ,sCAAR,IAAkD,YAAM;AACpD,QAAIQ,WAAW,0BAAgBjB,QAAhB,CAAf;AACAiB,aAASQ,eAAT,GAA2Bd,IAA3B,CAAgC,UAACe,OAAD,EAAa;AACzC,8BAAO,OAAOA,QAAQC,MAAf,KAA0B,WAAjC;AACAV,iBAASC,OAAT;AACH,KAHD,EAGGL,KAHH,CAGS,UAACC,CAAD,EAAO;AACZ,yBAAOO,IAAP,CAAYP,EAAEQ,OAAd;AACH,KALD;AAMH,CARD;;AAUAb,QAAQ,6CAAR,IAAyD,YAAM;AAC3D,QAAIQ,WAAW,0BAAgBjB,QAAhB,CAAf;AACAiB,aAASW,sBAAT,gBAAqCjB,IAArC,CAA0C,UAACkB,GAAD,EAAS;AAC/C,8BAAOA,GAAP;AACAZ,iBAASC,OAAT;AACH,KAHD,EAGGL,KAHH,CAGS,UAACC,CAAD,EAAO;AACZ,yBAAOO,IAAP,CAAYP,EAAEQ,OAAd;AACH,KALD;AAMH,CARD","file":"dbDriver.MsSqlDriver.js","sourcesContent":["import assert from \"assert\";\nimport edm from \"../mock/edm\";\nimport mssql from \"mssql\";\nimport MsSqlDriver from \"../dbDriver/MsSqlDriver\";\n\nlet dbConfig = {\n    user: \"home_user\",\n    password: \"3XV%t*oMeVF$79qZuW\",\n    server: \"lgutsql01\",\n    database: \"Home\",\n    dataDb: \"Home\",\n    edmDb: \"Home\",\n    edmSchema: \"dbo\",\n    dataSchema: \"dbo\"\n};\n\nexports[\"dbDriver.MsSqlDriver can connect\"] = () => {\n    \n    mssql.connect(dbConfig).then((pool) => {\n        return true;\n    }).catch((e) => {\n        return false;\n    }).then((connected) => {\n        mssql.close();\n        assert(connected);\n    });\n\n};\n\nexports[\"dbDriver.MsSqlDriver()\"] = () => {\n    var dbDriver = new MsSqlDriver(dbConfig);\n    assert(dbDriver);\n    dbDriver.dispose();\n};\n\nexports[\"dbDriver.MsSqlDriver.getEdmDbAsync\"] = () => {\n    var dbDriver = new MsSqlDriver(dbConfig);\n    dbDriver.getEdmDbAsync().then((db) => {\n        assert(db);\n        dbDriver.dispose();\n    }).catch((e) => {\n        assert.fail(e.message);\n    });\n};\n\nexports[\"dbDriver.MsSqlDriver.getDataDbAsync\"] = () => {\n    var dbDriver = new MsSqlDriver(dbConfig);\n    dbDriver.getDataDbAsync().then((db) => {\n        assert(db);\n        dbDriver.dispose();\n    }).catch((e) => {\n        assert.fail(e.message);\n    });\n};\n\nexports[\"dbDriver.MsSqlDriver._verifyEdmTableAsync\"] = () => {\n    var dbDriver = new MsSqlDriver(dbConfig);\n    dbDriver._verifyEdmTableAsync().then((pool) => {\n        assert(pool);\n        dbDriver.dispose();\n    }).catch((e) => {\n        assert.fail(e.message);\n    });\n};\n\nexports[\"dbDriver.MsSqlDriver.getEdmListAsync\"] = () => {\n    var dbDriver = new MsSqlDriver(dbConfig);\n    dbDriver.getEdmListAsync().then((edmList) => {\n        assert(typeof edmList.length !== \"undefined\");\n        dbDriver.dispose();\n    }).catch((e) => {\n        assert.fail(e.message);\n    });\n};\n\nexports[\"dbDriver.MsSqlDriver.getDatabaseForEdmAsync\"] = () => {\n    var dbDriver = new MsSqlDriver(dbConfig);\n    dbDriver.getDatabaseForEdmAsync(edm).then((idb) => {\n        assert(idb);\n        dbDriver.dispose();\n    }).catch((e) => {\n        assert.fail(e.message);\n    });\n};\n\n"]}