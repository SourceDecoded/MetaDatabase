{"version":3,"sources":["../../src/glassDoor/ExpressDoor.js"],"names":["options","port","address","apiRoot","edmRoot","glass","panes","entityRouters","app","_init","forEach","pane","router","edm","name","attach"],"mappings":";;;;;;qjBAAA;AACA;;;AACA;;;;AACA;;;;;;;;;AAGI,oBAAYA,OAAZ,EAAqB;AAAA;;AACjB,aAAKC,IAAL,GAAYD,QAAQC,IAAR,IAAgB,MAA5B;AACA,aAAKC,OAAL,GAAeF,QAAQE,OAAR,IAAmB,WAAlC;AACA,aAAKC,OAAL,GAAeH,QAAQG,OAAR,IAAmB,MAAlC;AACA,aAAKC,OAAL,GAAeJ,QAAQI,OAAR,IAAmB,MAAlC;AACA,aAAKC,KAAL,GAAaL,QAAQK,KAArB;AACA,aAAKC,KAAL,GAAa,KAAKD,KAAL,CAAWC,KAAxB;AACA,aAAKC,aAAL,GAAqB,EAArB;;AAEA,aAAKC,GAAL,GAAW,wBAAX;;AAEAC;AACH;;;;gCAEO;AAAA;;AACJ,iBAAKH,KAAL,CAAWI,OAAX,CAAmB,UAACC,IAAD,EAAU;AACzB,oBAAIC,SAAS,iCAAW,MAAKJ,GAAhB,EAAqBG,IAArB,CAAb;AACA,sBAAKJ,aAAL,CAAmBM,IAAIC,IAAvB,IAA+BF,MAA/B;AACAA,uBAAOG,MAAP,CAAc,MAAKZ,OAAnB;AACH,aAJD;;AAMA;AACH","file":"ExpressDoor.js","sourcesContent":["// GlassExpress\n// Implements GlassDoor to expose a GlassDb by HTTP\nimport express from \"express\";\nimport Router from \"./GlassExpressRouter\";\n\nexport default class {\n    constructor(options) {\n        this.port = options.port || \"8888\";\n        this.address = options.address || \"127.0.0.1\";\n        this.apiRoot = options.apiRoot || \"/api\";\n        this.edmRoot = options.edmRoot || \"/edm\";\n        this.glass = options.glass;\n        this.panes = this.glass.panes;\n        this.entityRouters = {};\n\n        this.app = express();\n\n        _init();\n    }\n\n    _init() {\n        this.panes.forEach((pane) => {\n            let router = new Router(this.app, pane);\n            this.entityRouters[edm.name] = router;\n            router.attach(this.apiRoot);\n        });\n\n        // TODO: build the /edm endpoint once we know how it should work\n    }\n\n}"]}